<!DOCTYPE html>
<html lang="en">
<head>
 
</head>
<body>
<main>

    <h2>Login</h2>
    <div>    
        <div class="col-sm col-md-4"> 
               
            <form  name="login" id="user-login"  >
                <div class="form-group">
                    <label for="email">Email address</label>
                    <input type="email" class="form-control" id="email" name="email" value="wmitty@email.com" required>
                </div>
                <div >
                    <label for="passwordID">Password</label> 
                    <input type="password" class="form-control" id="password" name="password" value="password" required>
                </div>    
                <div>
                    <input type='submit' class="btn btn-primary" id="loginBtn" value="Login">
                </div>
                <div id="message"></div> 
               
            </form>
             <p><a href="forgotPassword">Forgot your password?</a></p>
            <p> <a href="register">Don't have an account? Click here to Register</a></p>

        </div> 
    </div>   
    


</main>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>

    <script src="custom-js/custom.js"></script>   
    <script src="custom-js/login.js"></script> 
    <script src="script.js"></script> 
    <script>
        
        const json = localStorage.getItem('loginDetails');
        const obj = JSON.parse(json); 
        const loginButton = document.getElementById('loginBtn');
        loginButton.addEventListener('click', emailValid);
        const emailAddress = document.getElementById('email');
        const messageDiv = document.getElementById('message');

        function emailValid(){
            messageDiv.innerHTML = "";
            let isValid = false;
            if (email.value.includes("@")){
                isValid = true;
                
                compareToRegisteredDetails();
            }
            else{
                isValid = false;
            }
        }

        function compareToRegisteredDetails(){
             event.preventDefault();
             
             messageDiv.innerText = "";
            if((email.value == obj.email) && (password.value == obj.password)){
               
                const successMessage = document.createElement('p');
                successMessage.innerHTML = "You are now logged in."
                messageDiv.appendChild(successMessage);



            }
            else{
                messageDiv.innerText = "";
                const failMessage = document.createElement('p');
                failMessage.innerHTML = "Email or password is incorrect."
                messageDiv.appendChild(failMessage);

            }
             
            
            
            
        }
    </script>
    
</body>
</html>