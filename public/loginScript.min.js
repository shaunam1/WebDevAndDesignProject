function emailValid(e){messageDiv.innerHTML="";let t=!1;emailAddress.value.includes("@")?(t=!0,compareToRegisteredDetails(e)):t=!1}function compareToRegisteredDetails(e){if(e.preventDefault(),messageDiv.innerText="",obj)if(emailAddress.value==obj.email&&loginPassword.value==obj.password){const e=document.createElement("p");e.innerHTML="You are now logged in.",messageDiv.appendChild(e),isLoggedIn=!0,navDetails.innerHTML="My Details",checkoutBasket.innerHTML="Checkout",cartImage.style.display="block","none"===loginButton.style.display&&"display"===logoutBtn.style.display?(loginButton.style.display="block",logout.style.display="none",disappear.style.display="block",disappear2.style.display="block",cartImage.style.display="none"):(loginButton.style.display="none",logout.style.display="block",disappear.style.display="none",disappear2.style.display="none"),changeLoginState()}else{messageDiv.innerText="";const e=document.createElement("p");e.innerHTML="Email or password is incorrect.",messageDiv.appendChild(e)}else if("wmitty@email.com"==emailAddress.value&&"password"==loginPassword.value){const e=document.createElement("p");e.innerHTML="You are now logged in.",messageDiv.appendChild(e),isLoggedIn=!0,navDetails.innerHTML="My Details",checkoutBasket.innerHTML="Checkout",cartImage.style.display="block","none"===loginButton.style.display&&"display"===logoutBtn.style.display?(loginButton.style.display="block",logout.style.display="none",disappear.style.display="block",disappear2.style.display="block",cartImage.style.display="none"):(loginButton.style.display="none",logout.style.display="block",disappear.style.display="none",disappear2.style.display="none"),changeLoginState()}else{messageDiv.innerText="";const e=document.createElement("p");e.innerHTML="Email or password is incorrect.",messageDiv.appendChild(e)}}function logUserOut(){loginButton.style.display="block",logout.style.display="none",disappear.style.display="block",disappear2.style.display="block",isLoggedIn=!1,changeLoginState()}function changeLoginState(){!0===isLoggedIn?(loginOrLogout.innerHTML="Logout",sessionStorage.setItem("loginState","Logout")):(loginOrLogout.innerHTML="Login",sessionStorage.setItem("loginState","Login"))}let loginOrLogout=document.getElementById("log");sessionStorage.getItem("loginState")?loginOrLogout.innerHTML=sessionStorage.getItem("loginState"):loginOrLogout.innerHTML="Login";let isLoggedIn=!1;const json=localStorage.getItem("loginDetails"),obj=JSON.parse(json),loginButton=document.getElementById("loginBtn");loginButton.addEventListener("click",emailValid);const emailAddress=document.getElementById("loginEmail"),messageDiv=document.getElementById("loginMessage"),loginPassword=document.getElementById("loginPasswordID"),disappear=document.getElementById("disappear"),disappear2=document.getElementById("disappear2");let state=sessionStorage.getItem("loginState");const logout=document.getElementById("logoutBtn");logout.addEventListener("click",logUserOut),state?"Login"===state?(loginButton.style.display="block",logout.style.display="none",disappear.style.display="block",disappear2.style.display="block"):(loginButton.style.display="none",logout.style.display="block",disappear.style.display="none",disappear2.style.display="none"):(loginButton.style.display="block",logout.style.display="none",disappear.style.display="block",disappear2.style.display="block");